---
import Layout from '../layouts/Layout.astro';
import ProjectCard from '../components/ProjectCard.astro';
import Portfolio from '../components/Portfolio.astro'
import Landing from '../components/Landing.astro';

import projects from '../data/projects.json'
---

<Layout>
	<main>
		<Landing />
		<Portfolio />
		
		<!-- render project cards -->
		<div class="grid-container">
			{projects.map((project) => 
				( <ProjectCard 
					title={ project.title }
					description= { project.description }
					link={`https://github.com/justinfyh/${project.link}`}
					status={ project.status }
					icons={ project.icons }
				/>))
				}
		</div>
	</main>
</Layout>

<style>
	main {
		margin: 0;
		padding: 0;
		width: auto;
		max-width: 100%;
		font-size: 20px;
		line-height: 1.6;
	}

	/* style projects grid */
	.grid-container {
		margin: 1em auto;
		width: 85%;
		display: grid;
		grid-template-columns: repeat(3, 1fr);
  		grid-gap: 1em;
		grid-row-gap: 1em;
	}

	/* change grid layout based on viewport width */
	@media(max-width: 1320px) {
		.grid-container {
			grid-template-columns: repeat(2, 1fr);
			width: 90%;
		}
	}

	@media(max-width: 880px) {
		.grid-container {
			grid-template-columns: repeat(1, 1fr);
			width: 95%;
		}
	}
</style>
